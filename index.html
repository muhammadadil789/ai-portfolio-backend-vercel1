l<script>
  async function loadAIAdvice() {
    const card = document.getElementById("portfolioCard");
    card.innerHTML = "<p>ğŸ¤– Thinking like Aladdin...</p>";

    try {
      const res = await fetch("https://ai-portfolio-backend-vercel1.vercel.app/api/openai");
      const data = await res.json();

      card.innerHTML = `
      <<div id="marketData" style="margin-top: 30px; padding: 10px; border: 1px solid #ccc; border-radius: 12px; background-color: #f9f9f9;">
  <h3>ğŸ“¡ Market Prices Loading...</h3>
</div>
        <h2>ğŸ§ Aladdin AI Advice</h2>
        <p>${data.ai_advice}</p>
        <button onclick="loadAIAdvice()">ğŸ” Refresh Advice</button>
      `;
    } catch (err) {
      card.innerHTML = `
        <h2>âŒ Error</h2>
        <p>Could not get AI advice. Try again later.</p>
      `;
    }
  }

  loadAIAdvice();
</<script>
  async function loadMarketData() {
    const marketDiv = document.getElementById("marketData");
    marketDiv.innerHTML = "<p>ğŸ“Š Fetching prices...</p>";

    try {
      const res = await fetch("https://ai-portfolio-backend-vercel1.vercel.app/api/market");
      const data = await res.json();

      if (data.prices && Array.isArray(data.prices)) {
        marketDiv.innerHTML = `
          <h3>ğŸ“ˆ Live Market Prices</h3>
          ${data.prices.map(p => `
            <p><strong>${p.symbol}:</strong> $${p.price}</p>
          `).join('')}
        `;
      } else {
        marketDiv.innerHTML = "<p>âš ï¸ No price data found.</p>";
      }

    } catch (e) {
      marketDiv.innerHTML = "<p>âŒ Failed to load market data.</p>";
      console.error("Error fetching market data:", e);
    }
  }

  loadMarketData(); // Auto-run when page loads
</script><script>
  async function loadMarketData() {
    const marketDiv = document.getElementById("marketData");
    marketDiv.innerHTML = "<p>ğŸ“Š Fetching prices...</p>";

    try {
      const res = await fetch("https://ai-portfolio-backend-vercel1.vercel.app/api/market");
      const data = await res.json();

      if (data.prices && Array.isArray(data.prices)) {
        marketDiv.innerHTML = `
          <h3>ğŸ“ˆ Live Market Prices</h3>
          ${data.prices.map(p => `
            <p><strong>${p.symbol}:</strong> $${p.price}</p>
          `).join('')}
        `;
      } else {
        marketDiv.innerHTML = "<p>âš ï¸ No price data found.</p>";
      }

    } catch (e) {
      marketDiv.innerHTML = "<p>âŒ Failed to load market data.</p>";
      console.error("Error fetching market data:", e);
    }
  }

  loadMarketData(); // Auto-run when page loads
</script>>
